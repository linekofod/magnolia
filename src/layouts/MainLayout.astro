---
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import "../styles/tailwind.css";
import "animate.css";
const { title } = Astro.props;
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/imgs/favicon.png" />
    <link rel="stylesheet" href="https://use.typekit.net/khh5qru.css" />
    <!-- Flickity CSS -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/flickity@2/dist/flickity.min.css"
    />
    <!-- Flickity JavaScript -->
    <script src="https://unpkg.com/flickity@2/dist/flickity.pkgd.min.js"
    ></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{Astro.props.title}</title>
  </head>
  <body>
    <header>
      <Header />
    </header>

    <main>
      <slot />
    </main>

    <footer>
      <Footer />
    </footer>

    <!-- Progress Bar -->
    <div
      id="progress-bar"
      class="progress-bar h-full w-3xs md:w-2xs fixed bg-gradient-to-b from-grøn-500 to-grøn-500 right-0 origin-top-left top-0 z-50"
    >
    </div>
    <script>
      // Login på vores site, når man besøger det for første gang
      if (typeof window !== "undefined" && !localStorage.getItem("loggedIn")) {
        window.location.href = "/login";
      }
    </script>
  </body>
</html>

<style>
  /* Fjerner default scrollbar */
  body::-webkit-scrollbar {
    display: none;
  }
</style>

<script>
  import { scroll, animate } from "motion";

  // Progress Bar
  scroll(animate(".progress-bar", { scaleY: [0, 1] }));
</script>
