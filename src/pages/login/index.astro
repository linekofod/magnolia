---
const correctPassword = "magnolia"; // Skift denne kode til din egen sikre kode
import Button from "../../components/Button.astro";
import { Image } from "astro:assets";
import logo from "../../../public/imgs/logo.svg";
---

<html lang="da">
  <head>
    <title>Login</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  </head>
  <body
    class="bg-grøn-500 text-beige-50 mx-auto max-w-max flex flex-col gap-m pt-4xl items-center px-m md:px-0"
  >
    <Image src={logo} alt="Magnolia logo" width="80px" />
    <div class="flex flex-col text-center">
      <h1
        class="font-headline text-headline1_s md:text-headline1_lg text-lyserød-500"
      >
        MAGNOLIA
      </h1>
      <p class="font-light text-secondbody_s md:text-secondbody_lg">
        Skriv adgangskoden for at komme ind på vores site.
      </p>
    </div>

    <form id="loginForm" class="flex flex-col gap-m w-full">
      <div class="flex flex-col gap-3xs">
        <label for="password" class="font-light text-body_s md:text-body_lg"
          >Adgangskode:</label
        >
        <input
          type="password"
          id="password"
          name="password"
          required
          class="text-grøn-500 py-3xs pl-2xs"
        />
      </div>
      <button type="submit" class="w-fit h-fit"
        ><Button variant="secondary" size="small">Log ind</Button></button
      >
    </form>

    <p id="error-message" style="color: red; display: none;" class="font-light">
      Forkert adgangskode, prøv igen.
    </p>

    <script>
      const form = document.getElementById("loginForm");
      const errorMessage = document.getElementById("error-message");

      form.addEventListener("submit", (event) => {
        event.preventDefault();

        const password = document.getElementById("password").value;

        // Tjek om adgangskoden er korrekt
        if (password === "magnolia") {
          localStorage.setItem("loggedIn", "true");
          window.location.href = "/";
        } else {
          errorMessage.style.display = "block";
        }
      });
    </script>
  </body>
</html>
