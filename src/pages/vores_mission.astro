---
import MainLayout from "../layouts/MainLayout.astro";
import Button from "../components/Button.astro";
import Link from "../components/Link.astro";
import { Image } from "astro:assets";
import mission1 from "/public/imgs/vores_mission/mission1.webp";
import mission2 from "/public/imgs/vores_mission/mission2.webp";
import mission3 from "/public/imgs/vores_mission/mission3.webp";
import mission4 from "/public/imgs/vores_mission/mission4.webp";
---

<MainLayout title="Vores mission">
  <section class="text-grøn-700">
    <!-- OVERSKRIFT -->
    <section class="mx-ml">
      <h1 class="font-headline text-headline1_lg text-center mb-ml">
        VORES MISSION
      </h1>
    </section>

    <!-- MAGNOLIA - SKØNHED MED OMTANKE -->
    <section class="mx-ml grid grid-cols-1 md:grid-cols-2 text-grøn-700 mt-xl">
      <div>
        <Image src={mission1} alt="" class="w-[707px] h-[685px]" />
      </div>

      <div class="p-4xl">
        <h2 class="font-headline text-headline2_lg mb-xs">
          Magnolia – Skønhed med omtanke
        </h2>

        <p class="text-body_lg font-light">
          Magnolia blev grundlagt i 2020 med en ambition om at skabe en
          blomstervirksomhed, der forener elegance og ansvar. Vores mission er
          at tilbyde buketter, der ikke blot bringer glæde til modtageren, men
          også bidrager til en mere bæredygtig fremtid.
        </p>
      </div>
    </section>

    <!-- BLOMSTER MED ANSVAR -->
    <section class="mx-ml grid grid-cols-1 md:grid-cols-2 mt-xl">
      <div class="p-4xl">
        <h2 class="font-headline text-headline2_lg mb-xs">
          Blomster med ansvar
        </h2>

        <p class="text-body_lg font-light">
          Siden dag ét har vi brugt overskudsblomster som fundamentet for vores
          buketter. Disse smukke blomster, der ellers ville gå til spilde,
          bliver omdannet til unikke kreationer. Med tiden har vi udvidet vores
          sortiment til også at omfatte miljøcertificerede blomster og
          samarbejder med danske blomsteravlere – en kombination, der sikrer
          både kvalitet og bæredygtighed.
        </p>
      </div>

      <div>
        <Image src={mission2} alt="" class="w-[707px] h-[685px]" />
      </div>
    </section>

    <!-- EN GRØNNERE BUKET -->
    <section class="mx-ml grid grid-cols-1 md:grid-cols-2 mt-xl">
      <div>
        <Image src={mission3} alt="" class="w-[707px] h-[685px]" />
      </div>

      <div class="p-4xl">
        <h2 class="font-headline text-headline2_lg mt-xl">En grønnere buket</h2>

        <p class="text-body_lg font-light">
          Hos Magnolia er vi stolte af at gøre en forskel. En uafhængig
          livscyklusanalyse foretaget af Teknologisk Institut dokumenterer, at
          vores buketter har et CO₂-aftryk, der er 35% lavere end konventionelle
          blomster. Det er et løfte om at skabe skønhed uden at belaste vores
          planet.
        </p>
      </div>
    </section>

    <!-- VORES MISSION -->

    <section class="bg-beige-50 mx-auto py-xl h-[684px]">
      <div class="text-center justify-center mb-lg">
      <h2 class="font-headline text-headline2_lg mt-xl text-grøn-700">VORES BÆREDYGTIGE PRINCIPPER</h2>
    </div>
      <div id="carousel" class="carousel-container justify-center flex gap-lg h-[350px] mt-6xl">
        <!-- Kolonne 1 -->
        <div class="flex flex-col items-center text-center carousel-item w-[234px] h-[201px]">
          <img
          class="mb-s w-[50px] h-[50px]"
          src="https://img.icons8.com/ios/50/flower--v1.png"
          alt="flower--v1"
        />
          <h3 class="font-headline text-lg mb-s text-grøn-700">Overskudsblomster</h3>
          <p class="text-body_s font-light text-grøn-700">Vi forvandler overskud til smukke buketter og reducerer blomsterspild.</p>
        </div>
      
        <!-- Kolonne 2 -->
        <div class="flex flex-col items-center text-center carousel-item w-[234px] h-[201px]">
          <img
                class="mb-s w-[50px] h-[50px]"
                src="https://img.icons8.com/ios/50/map-marker--v1.png"
                alt="Danske blomster"
              />
          <h3 class="font-headline text-lg mb-s text-grøn-700">Danske blomster</h3>
          <p class="text-body_s font-light text-grøn-700">Lokalt dyrkede blomster, der støtter danske avlere og minimerer transportens klimaaftryk.</p>
        </div>
      
        <!-- Midterste Kolonne -->
        <div class="flex flex-col items-center text-center carousel-item active w-[234px] h-[201px]">
          <img
                class="mb-s w-[50px] h-[50px]"
                src="https://img.icons8.com/ios/50/leaf--v1.png"
                alt="leaf--v1"
              />
          <h3 class="font-headline text-lg mb-s text-grøn-700">Miljøcertificerede blomster</h3>
          <p class="text-body_s font-light text-grøn-700">Et nøje udvalgt sortiment dyrket med omtanke for naturen.</p>
        </div>
      
        <!-- Kolonne 4 -->
        <div class="flex flex-col items-center text-center carousel-item w-[234px] h-[201px]">
          <img
                class="mb-s w-[50px] h-[50px]"
                src="https://img.icons8.com/ios/50/green-earth.png"
                alt="green-earth"
              />
          <h3 class="font-headline text-lg mb-s text-grøn-700">Minimal emballage</h3>
          <p class="text-body_s font-light text-grøn-700">Enkel og elegant indpakning uden unødvendigt materiale.</p>
        </div>
      
        <!-- Kolonne 5 -->
        <div class="flex flex-col items-center text-center carousel-item w-[234px] h-[201px]">
          <img
                class="mb-s w-[50px] h-[50px]"
                src="https://img.icons8.com/ios/50/search--v1.png"
                alt="search--v1"
              />
          <h3 class="font-headline text-lg mb-s text-grøn-700">Gennemsigtighed</h3>
          <p class="text-body_s font-light text-grøn-700">Vi arbejder åbent og ærligt for at informere om vores tiltag og udfordringer.</p>
        </div>
      </div>
      
      <!-- Pilene nedenunder -->
      <div class="carousel-buttons flex justify-center gap-m mt-m">
        <button id="prevBtn" class="arrow-btn">
          <svg xmlns="http://www.w3.org/2000/svg" width="21" height="39" viewBox="0 0 21 39" fill="none">
            <path d="M21 3.60563L17.8768 0.5L0.865293 17.4257C0.591077 17.6969 0.373455 18.0194 0.224953 18.3746C0.076451 18.7299 0 19.1108 0 19.4956C0 19.8804 0.076451 20.2613 0.224953 20.6166C0.373455 20.9718 0.591077 21.2943 0.865293 21.5655L17.8768 38.5L20.9971 35.3944L5.03059 19.5L21 3.60563Z" fill="#28281A"/>
            </svg>
        </button>
        <button id="nextBtn" class="arrow-btn">
          <svg xmlns="http://www.w3.org/2000/svg" width="21" height="39" viewBox="0 0 21 39" fill="none">
            <path d="M0 3.60563L3.12323 0.5L20.1347 17.4257C20.4089 17.6969 20.6265 18.0194 20.775 18.3746C20.9235 18.7299 21 19.1108 21 19.4956C21 19.8804 20.9235 20.2613 20.775 20.6166C20.6265 20.9718 20.4089 21.2943 20.1347 21.5655L3.12323 38.5L0.00294304 35.3944L15.9694 19.5L0 3.60563Z" fill="#28281A"/>
            </svg>
        </button>
      </div>
    </section>

    <!-- FREMTIDEN BLOMSTRER GRØNNERE -->
    <section class="mx-ml grid grid-cols-1 md:grid-cols-2 mt-xl">
      <div class="p-4xl">
        <h2 class="font-headline text-headline2_lg mb-xs">
          Fremtiden blomstrer grønnere
        </h2>

        <p class="text-body_lg font-light">
          For Magnolia er bæredygtighed ikke blot en ambition – det er selve
          kernen i alt, hvad vi gør. Vi prioriterer ansvarlige løsninger gennem
          hele værdikæden: fra reduktion af vores vandforbrug med over 90% til
          samarbejder med sociale projekter og sikring af gode arbejdsvilkår for
          alle vores medarbejdere. Hver buket fra Magnolia er en hyldest til
          skønheden i blomster og naturens uendelige rigdomme. Sammen skaber vi
          en verden, hvor glæden ved blomster går hånd i hånd med ansvar for
          planeten.
        </p>
      </div>

      <div>
        <Image src={mission4} alt="" class="w-[707px] h-[600px]" />
      </div>
    </section>
  </section>
</MainLayout>

<style>
  .carousel-container {
  display: flex;
  scroll-snap-type: x mandatory;
  overflow-x: auto;
}

.carousel-item {
  scroll-snap-align: center;
  flex-shrink: 0;
  transition: transform 0.5s ease, opacity 0.5s ease;
  opacity: 0.5; /* Standard for inaktive kolonner */
  transform: scale(0.9); /* Mindre størrelse */
}

.carousel-item.active {
  opacity: 1; /* Fuldt synlig */
  transform: scale(1.2); /* Større størrelse for midterste kolonne */
}

.carousel-item img {
  transition: transform 0.5s ease;
}

.carousel-item.active img {
  margin-top:25px;
  margin-bottom: 10px;
  transform: scale(1.1); /* Gør billedet større i aktiv kolonne */
}
.carousel-buttons {
  display: flex;
  justify-content: center;
  gap: 1rem; /* Afstand mellem pilene */
  margin-top: -10rem;
}

.arrow-btn {
  margin-top:40px;
  width: 20px;
  height: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
}
</style>

<script>
const carousel = document.getElementById("carousel");
const items = document.querySelectorAll(".carousel-item");
const prevBtn = document.getElementById("prevBtn");
const nextBtn = document.getElementById("nextBtn");

let currentIndex = 2; // Start med midterste kolonne

function updateCarousel() {
  items.forEach((item, index) => {
    item.classList.remove("active");
    item.style.opacity = "0.5"; // Reducer opacity
    item.style.transform = "scale(0.9)"; // Mindre størrelse
    if (index === currentIndex) {
      item.classList.add("active");
      item.style.opacity = "1";
      item.style.transform = "scale(1.2)";
    }
  });
}

nextBtn.addEventListener("click", () => {
  currentIndex = (currentIndex + 1) % items.length;
  updateCarousel();
  carousel.scrollBy({ left: 272, behavior: "smooth" });
});

prevBtn.addEventListener("click", () => {
  currentIndex = (currentIndex - 1 + items.length) % items.length;
  updateCarousel();
  carousel.scrollBy({ left: -272, behavior: "smooth" });
});

// Initial opdatering
updateCarousel();
</script>
